<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todos</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
    <H1>Welcome to the your todos {{current_user.first_name}} {{current_user.last_name}} with email address {{current_user.email}} app user number {{session["user_id"]}}</H1>
    <div class="d-flex justify-content-around">
    <form action="/todo/form" method="GET">
        <button class="btn btn-danger">
            Add a new todo
        </button>
    </form>
    <form action="/todo/my_todos" method="GET">
        <button class="btn btn-success">View my todos</button>
    </form>

    </div>
    <table class="table table-striped">
        <thead>
            <th scope="col" >
                Todo ID
            </th>
            <th scope="col">
                Todo Name
            </th>
            <th scope="col">
                Todo Status
            </th>
            <th scope="col">
                User ID
            </th>
            <th scope="col">
                Action
            </th>
        </thead>
        <tbody>
            {% for todo in current_user.list_of_todos:%}
            <tr>
                <td>
                    {{todo.id}}
                </td>
                <td>
                    {{todo.name}}
                </td>
                <td>
                    {{todo.status}}
                </td>
                <td>
                    {{todo.user_id}}
                </td>
                <td>
                    <div class="d-flex justify-content-around">
                        <form action="/todo/delete/{{todo.id}}" method="POST">
                            <button class="btn btn-danger">Delete</button>
                        </form>
                        <form action="/todo/update/form/{{todo.id}}" method="GET">
                            <button class="btn btn-warning">Update</button>
                        </form>
                    </div>
                </td>
                {% endfor%}
            </tr>
        </tbody>
    </table>
</body>
</html>